var SmParser;!function(SmParser){var SongMetadata=function(){function SongMetadata(metadata){this.metadata=metadata,this.MetadataSectionRegex=new RegExp("#[^;]+;","gm"),this.MetadataLineRegex=new RegExp("#([a-z]+):([^;]+)?;$","i"),this.NumericMetadata=["offset","samplestart","samplelength"],this.StringMetadata=["title","subtitle","artist","titletranslit","subtitletranslit","artisttranslit","genre","credit","banner","background","lyricspath","cdtitle","music"];for(var metadataSections=metadata.match(this.MetadataSectionRegex),i=0;i<metadataSections.length;i++){var normalizedMetadata=this.normalizeMetadata(metadataSections[i]);this.setMetadataProperty(normalizedMetadata)}}return SongMetadata.prototype.isValid=function(){return!0},SongMetadata.prototype.normalizeMetadata=function(metadataSection){for(var metadataLines=metadataSection.split("\n"),i=0;i<metadataLines.length;i++)metadataLines[i]=metadataLines[i].replace(/\/\/.*$/,""),metadataLines[i]=metadataLines[i].replace(/^\s+|\s+$/g,"");return metadataLines.join("")},SongMetadata.prototype.setMetadataProperty=function(metadataLine){var metadataMatches=metadataLine.match(this.MetadataLineRegex);if(metadataMatches){var propertyName=metadataMatches[1],propertyValue=metadataMatches[2];if(propertyName&&propertyValue)if(propertyName=propertyName.toLocaleLowerCase(),this.StringMetadata.indexOf(propertyName)>=0)this[propertyName]=propertyValue;else if(this.NumericMetadata.indexOf(propertyName)>=0){var numericPropertyValue=parseFloat(propertyValue);isNaN(numericPropertyValue)||(this[propertyName]=numericPropertyValue)}else"selectable"===propertyName&&(this[propertyName]="NO"!==propertyValue)}},SongMetadata}();SmParser.SongMetadata=SongMetadata}(SmParser||(SmParser={}));